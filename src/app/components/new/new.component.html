<div class="new-container">
  <!-- Header Section with Background -->
  <div class="page-header">
    <div class="header-content">
      <div class="header-badge">
        <mat-icon>add_circle</mat-icon>
        <span>Create Post</span>
      </div>
      <h1 class="page-title">Create New Post</h1>
      <p class="page-description">Share your thoughts with the world</p>
    </div>
  </div>

  <!-- Form Card -->
  <div class="form-wrapper">
    <div class="form-card">
      <div class="form-card-header">
        <div class="header-icon">
          <mat-icon>edit_note</mat-icon>
        </div>
        <h2>Post Details</h2>
        <p>Fill in the information below to create a new post</p>
      </div>

      <form [formGroup]="form" (ngSubmit)="createData()">
        <div class="form-grid">
          <!-- ID Field -->
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Post ID</mat-label>
              <input 
                formControlName="id" 
                matInput 
                type="number" 
                placeholder="e.g., 101"
                matTooltip="Unique identifier for the post">
              <mat-icon matSuffix>tag</mat-icon>
              <mat-error *ngIf="form.get('id')?.hasError('required')">
                ID is required
              </mat-error>
              <mat-error *ngIf="form.get('id')?.hasError('pattern')">
                Enter a valid ID (max 5 digits)
              </mat-error>
            </mat-form-field>
          </div>

          <!-- User ID Field -->
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>User ID</mat-label>
              <input 
                formControlName="userId" 
                matInput 
                type="number" 
                placeholder="e.g., 1001"
                matTooltip="ID of the user creating this post">
              <mat-icon matSuffix>person</mat-icon>
              <mat-error *ngIf="form.get('userId')?.hasError('required')">
                User ID is required
              </mat-error>
            </mat-form-field>
          </div>

          <!-- Title Field (Full Width) -->
          <div class="form-field full-width">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Post Title</mat-label>
              <input 
                formControlName="title" 
                matInput 
                placeholder="Enter an engaging title"
                matTooltip="The title of your post">
              <mat-icon matSuffix>title</mat-icon>
              <mat-error *ngIf="form.get('title')?.hasError('required')">
                Title is required
              </mat-error>
            </mat-form-field>
          </div>

          <!-- Body Field (Full Width) -->
          <div class="form-field full-width">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Post Content</mat-label>
              <textarea 
                formControlName="body" 
                matInput 
                rows="6" 
                placeholder="Write your post content here..."
                matTooltip="The main content of your post"></textarea>
              <mat-icon matSuffix>description</mat-icon>
              <mat-error *ngIf="form.get('body')?.hasError('required')">
                Content is required
              </mat-error>
            </mat-form-field>
          </div>

          <!-- Character Count -->
          <div class="form-field full-width">
            <div class="char-counter" *ngIf="form.get('body')?.value">
              <mat-icon>text_fields</mat-icon>
              <span>{{form.get('body')?.value?.length || 0}} characters</span>
            </div>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button 
            type="button" 
            class="btn-cancel" 
            (click)="resetForm()"
            matTooltip="Clear all fields">
            <mat-icon>clear</mat-icon>
            <span>Clear</span>
          </button>
          
          <button 
            type="submit" 
            class="btn-submit" 
            [disabled]="form.invalid"
            matTooltip="Create new post">
            <mat-icon>save</mat-icon>
            <span>Create Post</span>
          </button>
        </div>

        <!-- Form Status -->
        <div class="form-status" *ngIf="form.invalid && form.touched">
          <mat-icon>info</mat-icon>
          <span>Please fill all required fields correctly</span>
        </div>
      </form>
    </div>

    <!-- Preview Card (Optional) -->
    <div class="preview-card" *ngIf="form.valid && form.dirty">
      <div class="preview-header">
        <mat-icon>preview</mat-icon>
        <h3>Live Preview</h3>
      </div>
      
      <div class="preview-content">
        <div class="preview-badge">
          <span class="badge-id">#{{form.get('id')?.value || '?'}}</span>
          <span class="badge-user">User {{form.get('userId')?.value || '?'}}</span>
        </div>
        
        <h4 class="preview-title">{{form.get('title')?.value || 'Post Title'}}</h4>
        
        <div class="preview-body">
          {{form.get('body')?.value || 'Post content will appear here...'}}
        </div>
      </div>
      
      <div class="preview-footer">
        <mat-icon>check_circle</mat-icon>
        <span>Ready to publish</span>
      </div>
    </div>
  </div>

  <!-- Success Message (Appears after creation) -->
  <div class="success-message" *ngIf="showSuccessMessage" @slideInOut>
    <div class="success-content">
      <mat-icon>check_circle</mat-icon>
      <div class="success-text">
        <h4>Post Created Successfully!</h4>
        <p>Your post has been saved</p>
      </div>
      <button class="close-btn" (click)="showSuccessMessage = false">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>
</div>